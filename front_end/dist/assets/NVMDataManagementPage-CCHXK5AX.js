import{C as e}from"./index-B9YNel-W.js";import{q as t}from"./index-CLjfCghb.js";import{d as s}from"./enums-DTBVM0QW.js";import{a,p as l,h as i,c as r}from"./utils-CCWp7rz6.js";import{b as o,c as d}from"./index-Sj1Bloiw.js";import{n}from"./index-BqV8YcGQ.js";var c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{"background-color":"rgb(45, 45, 45)"}},[s("el-header",{attrs:{height:"9vh"}},[s("el-row",{staticStyle:{width:"100%"}},[s("el-col",{attrs:{span:3}},[s("div",{staticClass:"el-header-title"},[e._v(" Select ATA System and Equipment ")])]),s("el-col",{attrs:{span:18}},[s("div",{staticClass:"el-header-radios"},[s("div",{staticClass:"radio",on:{click:function(t){e.changeRadio("NVMDataRetrieval"),e.clearSelectedOptions()}}},[s("input",{attrs:{type:"radio",name:"retrieval-radio"},domProps:{checked:"NVMDataRetrieval"==e.displaySelected}}),s("span",[e._v("Retrieval")])]),s("div",{staticClass:"radio",on:{click:function(t){e.changeRadio("NVMDataReset"),e.clearSelectedOptions()}}},[s("input",{attrs:{type:"radio",name:"reset-radio"},domProps:{checked:"NVMDataReset"==e.displaySelected}}),s("span",[e._v("Reset(All legs)")])])])]),s("el-col",{attrs:{span:3}},[s("Clock")],1)],1)],1),s("el-main",[s("el-row",{attrs:{gutter:2}},[s("el-col",{staticStyle:{height:"70vh",border:"0.5px solid rgb(111, 111, 111)"},attrs:{span:11}},["NVMDataRetrieval"==e.displaySelected?s("el-table",{staticStyle:{"background-color":"rgb(46, 45, 45)"},attrs:{"highlight-current-row":"",height:"70vh",data:e.ATAsRetrieval,"sort-method":e.customSortMethodForProgressColumn,"header-cell-style":{background:"#404040",color:"#FFFFFF",font:"14px"},"empty-text":"NO DATA DISPLAY"},on:{"row-click":e.handleATARowClickRetrieval}},[s("el-table-column",{attrs:{width:null,"min-width":5}}),s("el-table-column",{attrs:{prop:"ataNumber",label:"ATA",sortable:"",width:null,"min-width":15}}),s("el-table-column",{attrs:{prop:"equipmentName",label:"System Name",sortable:"",width:null,"min-width":35,formatter:e.formatATAName}}),s("el-table-column",{attrs:{width:null,"min-width":5}})],1):s("el-table",{staticStyle:{"background-color":"rgb(46, 45, 45)"},attrs:{"highlight-current-row":"",height:"70vh",data:e.ATAsReset,"sort-method":e.customSortMethodForProgressColumn,"header-cell-style":{background:"#404040",color:"#FFFFFF",font:"14px"},"empty-text":"NO DATA DISPLAY"},on:{"row-click":e.handleATARowClickReset}},[s("el-table-column",{attrs:{width:null,"min-width":5}}),s("el-table-column",{attrs:{prop:"ataNumber",label:"ATA",sortable:"",width:null,"min-width":15}}),s("el-table-column",{attrs:{prop:"equipmentName",label:"System Name",sortable:"",width:null,"min-width":35,formatter:e.formatATAName}}),s("el-table-column",{attrs:{width:null,"min-width":5}})],1)],1),s("el-col",{staticStyle:{height:"70vh",border:"0.5px solid rgb(111, 111, 111)"},attrs:{span:13}},["NVMDataRetrieval"==e.displaySelected?s("el-table",{staticStyle:{"background-color":"rgb(46, 45, 45)"},attrs:{"highlight-current-row":"",height:"70vh",data:e.EquisRetrieval,"sort-method":e.customSortMethodForProgressColumn,"header-cell-style":{background:"#404040",color:"#FFFFFF",font:"14px"},"empty-text":"NO DATA DISPLAY","row-class-name":e.rowTestName},on:{"row-click":e.handleEquipmentRetrievalRowClick}},[s("el-table-column",{attrs:{width:null,"min-width":5}}),s("el-table-column",{attrs:{prop:"memberSystemName",label:"Equiment Name",sortable:"",width:null,"min-width":35}}),s("el-table-column",{attrs:{prop:"avai",label:"Availability",sortable:"",width:null,"min-width":25,formatter:e.formatEquiAvailablilty}}),s("el-table-column",{attrs:{width:null,"min-width":5}})],1):s("el-table",{staticStyle:{"background-color":"rgb(46, 45, 45)"},attrs:{"highlight-current-row":"",height:"70vh",data:e.EquisReset,"sort-method":e.customSortMethodForProgressColumn,"header-cell-style":{background:"#404040",color:"#FFFFFF",font:"14px"},"empty-text":"NO DATA DISPLAY","row-class-name":e.rowTestName},on:{"row-click":e.handleEquipmentResetRowClick}},[s("el-table-column",{attrs:{width:null,"min-width":5}}),s("el-table-column",{attrs:{prop:"memberSystemName",label:"Equiment Name",sortable:"",width:null,"min-width":35}}),s("el-table-column",{attrs:{prop:"avai",label:"Availability",sortable:"",width:null,"min-width":25,formatter:e.formatEquiAvailablilty}}),s("el-table-column",{attrs:{width:null,"min-width":5}})],1)],1)],1),s("el-dialog",{attrs:{visible:e.isRetrievalAddedMsg,title:"CONFIRM"},on:{"update:visible":function(t){e.isRetrievalAddedMsg=t}}},[s("p",[e._v('Are you sure you want to ADD the parameter "'+e._s(e.selectedEquiRetrieval.memberSystemName)+'"?')]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.confirmRetrievalAdd}},[e._v("Confirm")]),s("el-button",{on:{click:e.cancelRetrievalAdd}},[e._v("Cancel")])],1)]),s("el-dialog",{attrs:{visible:e.isResetAddedMsg,title:"CONFIRM"},on:{"update:visible":function(t){e.isResetAddedMsg=t}}},[s("p",[e._v('Are you sure you want to ADD the parameter "'+e._s(e.selectedEquiReset.memberSystemName)+'"?')]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:e.confirmResetAdd}},[e._v("Confirm")]),s("el-button",{on:{click:e.cancelResetAdd}},[e._v("Cancel")])],1)]),s("el-dialog",{attrs:{title:"ERROR MESSAGE",visible:e.isRetrievalSelected,width:"30%"},on:{"update:visible":function(t){e.isRetrievalSelected=t}}},[s("p",{staticStyle:{color:"black"}},[e._v("Please select a retrieval item!")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.isRetrievalSelected=!1}}},[e._v("OK")])],1)]),s("el-dialog",{attrs:{title:"ERROR MESSAGE",visible:e.isResetSelected,width:"30%"},on:{"update:visible":function(t){e.isResetSelected=t}}},[s("p",{staticStyle:{color:"black"}},[e._v("Please select a reset item!")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.isResetSelected=!1}}},[e._v("OK")])],1)])],1),s("el-footer",[s("div",[s("button",{staticClass:"footer-btn",on:{click:e.printPage}},[e._v("PRINT")])]),s("div",[s("button",{staticClass:"footer-btn",on:{click:function(t){return e.goDefaultPage()}}},[e._v("BACK")]),"NVMDataRetrieval"==e.displaySelected?s("button",{staticClass:"footer-btn",on:{click:function(t){return e.sendRetrievalOrder()}}},[e._v("RETRIEVAL")]):e._e(),"NVMDataReset"==e.displaySelected?s("button",{staticClass:"footer-btn",on:{click:function(t){return e.sendResetOrder()}}},[e._v("RESET")]):e._e()])])],1)},m=[];const h={};var u=n({name:"DefaultResetPage",data:()=>({displaySelected:"NVMDataRetrieval",ATAsRetrieval:[],ATAsReset:[],EquisRetrieval:[],EquisReset:[],selectedEquiRetrieval:{},selectedEquiReset:{},selectedMemberSystemIdsRetrieval:[],selectedMemberSystemIdsReset:[],isRetrievalAddedMsg:!1,isResetAddedMsg:!1,isRetrievalSelected:!1,isResetSelected:!1}),created(){o().then((e=>{this.ataEquiDataRetrieval=e,Object.keys(e).forEach((e=>{this.ATAsRetrieval.push({ataNumber:e,systemName:"to be done"})}))})),d().then((e=>{this.ataEquiDataReset=e,Object.keys(e).forEach((e=>{this.ATAsReset.push({ataNumber:e,systemName:"to be done"})}))}))},components:{Clock:e},methods:{clearSelectedOptions(){this.selectedEquiRetrieval={},this.selectedEquiReset={},this.selectedMemberSystemIdsRetrieval=[],this.selectedMemberSystemIdsReset=[],this.EquisRetrieval=[],this.EquisReset=[]},goDefaultPage(){this.$router.push({name:"NVMDataDefault"})},formatEquiAvailablilty:e=>"1"==e.avai?"Available":"Unavailable",formatATAName:e=>s[e.ataNumber.substring(0,2)],rowTestName:({row:e})=>"1"==e.avai?"":"disable-row",handleATARowClickRetrieval(e){this.EquisRetrieval=this.ataEquiDataRetrieval[e.ataNumber]},handleEquipmentRetrievalRowClick(e){"1"!==e.avai?this.$message({type:"warning",message:"This nvm is unavailable!"}):this.selectedMemberSystemIdsRetrieval.includes(e.memberSystemId)?this.$message("This equipment has been selected"):(this.isRetrievalAddedMsg=!0,this.selectedEquiRetrieval=e)},confirmRetrievalAdd(){this.selectedMemberSystemIdsRetrieval.push(this.selectedEquiRetrieval.memberSystemId),this.$message({message:"Successfully selected",type:"success"}),this.isRetrievalAddedMsg=!1},cancelRetrievalAdd(){this.$message({message:"Already canceled"}),this.isRetrievalAddedMsg=!1},handleATARowClickReset(e){this.EquisReset=this.ataEquiDataReset[e.ataNumber]},handleEquipmentResetRowClick(e){"1"!==e.avai?this.$message({type:"warning",message:"This nvm is unavailable!"}):this.selectedMemberSystemIdsReset.includes(e.memberSystemId)?this.$message("This equipment has been selected"):(this.isResetAddedMsg=!0,this.selectedEquiReset=e)},confirmResetAdd(){this.selectedMemberSystemIdsReset.push(this.selectedEquiReset.memberSystemId),this.$message({message:"Successfully selected",type:"success"}),this.isResetAddedMsg=!1},cancelResetAdd(){this.$message({message:"Already canceled"}),this.isResetAddedMsg=!1},sendRetrievalOrder(){if(0===this.selectedMemberSystemIdsRetrieval.length)this.isRetrievalSelected=!0;else{let e=t.stringify({OrderType:"NVMRETRIEVAL",currentPage:"NVMDataManagement",selectedEquipmentID:this.selectedMemberSystemIdsRetrieval});this.handleTestOrder(e),this.selectedMemberSystemIdsRetrieval=[]}},sendResetOrder(){if(0===this.selectedMemberSystemIdsReset.length)this.isResetSelected=!0;else{let e=t.stringify({OrderType:"NVMRESET",currentPage:"NVMDataManagement",selectedEquipmentID:this.selectedMemberSystemIdsReset});this.handleTestOrder(e),this.selectedMemberSystemIdsReset=[]}},changeRadio:a,printPage:l,handleTestOrder:i,customSortMethodForProgressColumn:r}},c,m,!1,b,"e969c73a");function b(e){for(let t in h)this[t]=h[t]}const R=function(){return u.exports}();export{R as default};
